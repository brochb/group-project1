<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.3/dayjs.min.js"
        integrity="sha256-iu/zLUB+QgISXBLCW/mcDi/rnf4m4uEDO0wauy76x7U=" crossorigin="anonymous"></script>
    <title>The Book Search Extraordinaire!</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <link rel="stylesheet" href="./assets/css/style.css">
    <script src = "https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script>
    <script src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>


<body>
    <h1>The Book Search Extraordinaire!</h1>
    <p>Thank you for checking out our book search site!<br>
        The aim of this site is to give you more options
        then you currently have for your reading excitement!<br>
        Please select Fiction, or Nonfiction, AND a Query Category to begin your search!</p>
    <section name="fic-nonfic" id="search-container" autocomplete="off" required>
        <label for="query-input">Genre:</label>
        <select id="query-input">
            <option value="fiction">Fiction</option>
            <option value="nonfiction">Nonfiction</option>
        </select>

        <!-- Add the queryCategory input box -->
        <label for="queryCategory">Query Category:</label>
        <select id="queryCategory">
            <option value="">Select Category</option> <!-- Blank option, won't affect the apiUrl -->
            <option value="Fiction, Non-fiction & Poetry">Fiction, Non-fiction & Poetry</option>
            <option value="Science Fiction & Fantasy">Science Fiction & Fantasy</option>
            <option value="Real Life">Real Life</option>
            <option value="Mystery & Suspense">Mystery & Suspense</option>
            <option value="Hobbies, Sports & Outdoors">Hobbies, Sports & Outdoors</option>
            <option value="Animals, Bugs & Pets">Animals, Bugs & Pets</option>
            <option value="Science & Technology">Science & Technology</option>
            <option value="Art, Creativity & Music">Art, Creativity & Music</option>
            <option value="General Literature">General Literature</option>
            <option value="Reference">Reference</option>
        </select>

        <!-- Add the query input boxes for the author's first and last name (optional) -->
        <label for="author">Author:</label>
        <input type="text" id="author" placeholder="Author">

        <!-- Add the query input boxes for the minimun and maximum Lexile (optional) -->
        <label for="min-lexile" title="Lexile is the numeric representation of a text's readability or difficulty. A 6th grader should be reading at a level of around 1000. Maximum Lexile is 2000.">Min Lexile:</label>
        <input type="text" id="min-lexile" placeholder="Min Lexile Here">

        <label for="max-lexile" title="Lexile is the numeric representation of a text's readability or difficulty. A 6th grader should be reading at a level of around 1000. Maximum Lexile is 2000.">Max Lexile:</label>
        <input type="text" id="max-lexile" placeholder="Max Lexile Here">

        <button id="search-button">Search</button>
    </section>

    <section id="history">
        <div id="history-search">
            <h2>History:</h2>
            <ul id="history-list" class="is-family-sans-serif">
            </ul>

        </div>
        
        <div id="saved-search">
            <h2>Saved Books From Search:</h2>
            <section class = "section">
                <div class = "container">
                   <br>
                   <br>
            <button id="clear-selection-button" style="background-color: red; border-radius: 10px; color: white; box-shadow: 0px 0px 2px 2px rgb(0, 0, 0);" class="button is-primary modal-button"data-target = "#modal">Clear Selected Books</button>
                   <!-- creates a modal after clicking the clear history button -->
                   <div id = "modal" class = "modal">
                      <div class = "modal-background"></div>
                      <div class = "modal-content">
                         <div class = "box">
                            <article class = "media">
                               <div class = "media-left">
                               </div>
                               <div class = "media-content">
                                  <div class = "content">
                                     <p>
                                        <!-- text to educate the user on the modal functions. -->
                                        <strong>Are you sure you want to clear history?</strong>
                                        <br>
                                        <small>To exit screen without clearing history press the X in the top right corner of the screen.</small>
                                        <br>
                                        <small>--------------------------------------------------------------------------------------------------------</small>
                                        <br>
                                        <small>Press the red button below to clear saved history.</small>
                                     </p>
                                    </div>
                                    <nav>
                                        <div class ="delete has-background-danger">Clear History</div>
                                    </nav>  
                               </div>        
                            </article>
                         </div>
                      </div>
                      <button class = "modal-close is-large" aria-label = "close"></button>
                   </div>
                </div>
             </section>

            <ul id="inventory"></ul>
        </div>

    </section>
    <footer class="footer">
        <h2></h2>
        <ul>
            <li>
                Contact
            </li>
            <li class="github" style=" text-decoration: underline;">
                <a href="https://github.com/brochb/group-project1">Github</a>
            </li>
        </ul>
        <p>
            &copy; 2023 Mongooses
        </p>
    </footer>

    <script>
        // opens up the model when button is clicked.
        $(".modal-button").click(function() {
           var target = $(this).data("target");
           $("html").addClass("is-clipped");
           $(target).addClass("is-active");
        });
        // closes the modal when x in top right corner is clicked.
        $(".modal-close").click(function() {
           $("html").removeClass("is-clipped");
           $(this).parent().removeClass("is-active");
        });
        // allows the saved history to be delete when the red button in the modal is pressed.
        $(".delete").click(function() {
            localStorage.removeItem('selectedBooks');
            window.location.reload();
        });
     </script>

    <script src="./assets/javascript/script.js"></script>
</body>

</html>